(function(){var e,t,n,r,o,u,a,i,l,c,s,d,m,f,p,h,v,g,y,w,E,M,b,k;y=Math.sqrt,s="ontouchstart"in window,m=k=l=0,v=[],b={transform:"transform"},w=e=h=null,E=document.createElement("div"),g="/works/",t=document.getElementById.bind(document),a=document.addEventListener.bind(document),n=function(e){return e[0].toUpperCase()+e.slice(1)},i=function(){var e;return e=document.location.pathname,"/"===e?null:e.split(g)[1].replace("/","")},p=function(){var n;return(n=i())?(m=window.pageYOffset,e&&(e.className=""),e=t("content-"+n),h.scrollTop=0,e.className="active",document.body.className="perma",document.title=jsonMap[n]):(scrollTo(0,m),document.title="Dan Motzenbecker",document.body.className=""),ga("send","pageview")},c=function(e){return e.addEventListener("click",function(t){return t.preventDefault(),history.pushState(null,null,e.href),p()},!0)},r=function(){var e,t,n,r,o,u,a;for(e=t=0,r=w.length;t<r;e=++t)u=w[e],o=u.getBoundingClientRect(),n=o.left,a=o.top,v[e]=[n,a+scrollY];return null},u=function(){var e;return e=null,function(){return clearTimeout(e),e=setTimeout(r,333)}}(),o=10,f=function(e){var t,n,r,u,a,i,c;for(u=a=0,i=w.length;a<i;u=++a)c=w[u],t=e.pageX-v[u][0]-k/2,n=e.pageY-v[u][1]-l/2,r=(y(Math.pow(t,2)+Math.pow(n,2))||1)/o,c.children[0].style[b.transform]="rotateX("+-n/r+"deg) rotateY("+t/r+"deg)";return null};for(d in b)M=b[d],b[d]=function(){var e,t,r,o,u;for(u=["Webkit","Moz","ms"],t=0,r=u.length;t<r;t++)if(o=u[t],(e=o+n(M))in E.style)return e;return M in E.style?M:null}();a("DOMContentLoaded",function(){var e,n,o,d;if(setTimeout(function(){var e;return e=function(){var e;return e=document.createElement("div"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),document.documentElement.className=[s?"touch":"",e?"":"no-pe"].join(" ")},0),w=t("grid").children,h=t("perma"),k=l=parseInt(getComputedStyle(w[0]).width,10),t("email").href=["m","a","i","l","t","o",":","d","a","n","@","o","x","i","s","m",".","c","o","m"].join(""),!s){if(a("keydown",function(e){if(27===e.keyCode&&i())return history.pushState(null,null,"/"),p()}),!b.transform)return;r(),addEventListener("resize",u),a("mousemove",f,!1)}if(window.history.pushState){for(p(),d=document.querySelectorAll("#grid > a"),e=0,n=d.length;e<n;e++)o=d[e],c(o);return c(t("x")),addEventListener("popstate",p)}},!1)}).call(this);
//# sourceMappingURL=oxism.js.map
