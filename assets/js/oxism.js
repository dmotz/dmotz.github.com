(function(){var e,t,n,r,o,i,a,l,u,s,c,f,d,m,h,p,v,g,y,M,w,E,b,k,T,C,N,S,x,L,Y,j,z,D,W;N=Math.sqrt,y=Math.min,g=Math.max,s=document,D=window,n=s.body,h="ontouchstart"in D&&D.screen.availWidth<1400,v=z=d=0,T=[],j={transform:"transform"},S=e=k=null,x=s.createElement("div"),r=s.getElementById.bind(s),c=s.addEventListener.bind(s),W=D.addEventListener.bind(D),C="/works/",u="Dan Motzenbecker",t=10,M=2,o=function(e){return e[0].toUpperCase()+e.slice(1)},f=function(){var e;return e=s.location.pathname,"/"===e?null:e.split(C)[1].replace("/","")},b=function(){var t;return(t=f())?(v=D.pageYOffset,e&&(e.className=""),e=r("content-"+t),k.scrollTop=0,e.className="active",n.className="perma",s.title=jsonMap[t]):(scrollTo(0,v),s.title=u,n.className=""),ga("send","pageview")},m=function(e){return e.addEventListener("click",function(t){return t.preventDefault(),history.pushState(null,null,e.href),b()})},i=function(){var e,t,n,r,o,i,a;for(e=t=0,r=S.length;t<r;e=++t)i=S[e],o=i.getBoundingClientRect(),n=o.left,a=o.top,T[e]=[n,a+scrollY];return null},l=function(){var e;return e=null,function(){return clearTimeout(e),e=setTimeout(i,333)}}(),L=function(e,t,n){return e.children[0].style[j.transform]="rotateX("+t+"deg) rotateY("+n+"deg)"},E=function(e){var n,r,o,i,a,l,u,s,c;for(u=e.pageX,s=e.pageY,i=a=0,l=S.length;a<l;i=++a)c=S[i],n=u-T[i][0]-z/2,r=s-T[i][1]-d/2,o=(N(Math.pow(n,2)+Math.pow(r,2))||1)/t,L(c,-r/o,n/o);return null},a=function(e,t){return g(y(t,e),-e)},w=function(e){var t,n,r,o,i,l,u,s;if(t=e.beta,n=e.gamma,null!==t){for(u=a(12,t/M/2)-10,s=a(12,-n/M),D.innerWidth>D.innerHeight&&(i=[s,u],u=i[0],s=i[1]),r=0,o=S.length;r<o;r++)l=S[r],L(l,u,s);return null}};for(p in j)Y=j[p],j[p]=function(){var e,t,n,r,i;for(i=["Webkit","Moz","ms"],t=0,n=i.length;t<n;t++)if(r=i[t],(e=r+o(Y))in x.style)return e;return Y in x.style?Y:null}();c("DOMContentLoaded",function(){var e,t,n,o;if(setTimeout(function(){var e;return e=function(){var e;return e=s.createElement("div"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),s.documentElement.className=[h?"touch":"",e?"":"no-pe"].join(" ")},0),S=r("grid").children,k=r("perma"),z=d=parseInt(getComputedStyle(S[0]).width,10),r("email").href=["m","a","i","l","t","o",":","d","a","n","@","o","x","i","s","m",".","c","o","m"].join(""),h)W("deviceorientation",w);else{if(c("keydown",function(e){if(27===e.keyCode&&f())return history.pushState(null,null,"/"),b()}),!j.transform)return;i(),W("resize",l),c("mousemove",E)}if(D.history.pushState){for(b(),o=s.querySelectorAll("#grid > a"),e=0,t=o.length;e<t;e++)n=o[e],m(n);return m(r("x")),W("popstate",b)}})}).call(this);
//# sourceMappingURL=oxism.js.map
