(function(){var e,t,n,o,r,u,i,l,a,d,c,s,m,f,p,h,g,v,w,y,E,L;g=Math.sqrt,a="ontouchstart"in window,c=L=i=0,p=[],E={transform:"transform"},v=e=f=null,w=document.createElement("div"),h="/works/",t=function(e){return e[0].toUpperCase()+e.slice(1)},u=function(){var e;return e=document.location.pathname,"/"===e?null:e.split(h)[1].replace("/","")},m=function(){var t;return(t=u())?(c=window.pageYOffset,e&&(e.className=""),e=document.getElementById("content-"+t),f.scrollTop=0,e.className="active",document.body.className="perma",document.title=jsonMap[t]):(window.scrollTo(0,c),document.title="Dan Motzenbecker",document.body.className=""),ga("send","pageview")},l=function(e){return e.addEventListener("click",function(t){return t.preventDefault(),history.pushState(null,null,e.href),m()},!0)},n=function(){var e,t,n,o,r,u,i;for(e=t=0,o=v.length;o>t;e=++t)u=v[e],r=u.getBoundingClientRect(),n=r.left,i=r.top,p[e]=[n,i];return null},r=function(){var e;return e=null,function(){return clearTimeout(e),e=setTimeout(n,333)}}(),o=10,s=function(e){var t,n,r,u,l,a,d;for(u=l=0,a=v.length;a>l;u=++l)d=v[u],t=e.pageX-p[u][0]-L/2,n=e.pageY-p[u][1]-i/2,r=(g(Math.pow(t,2)+Math.pow(n,2))||1)/o,d.children[0].style[E.transform]="rotateX("+-n/r+"deg) rotateY("+t/r+"deg)";return null};for(d in E)y=E[d],E[d]=function(){var e,n,o,r,u;for(u=["Webkit","Moz","ms"],n=0,o=u.length;o>n;n++)if(r=u[n],(e=r+t(y))in w.style)return e;return y in w.style?y:null}();document.addEventListener("DOMContentLoaded",function(){var e,t,o,d;if(setTimeout(function(){return document.documentElement.className=a?"touch":""},0),v=document.getElementById("grid").children,f=document.getElementById("perma"),L=i=parseInt(window.getComputedStyle(v[0]).width,10),document.getElementById("email").href=["m","a","i","l","t","o",":","d","a","n","@","o","x","i","s","m",".","c","o","m"].join(""),!a){if(document.addEventListener("keydown",function(e){return 27===e.keyCode&&u()?(history.pushState(null,null,"/"),m()):void 0}),!E.transform)return;n(),window.addEventListener("resize",r),document.addEventListener("mousemove",s,!1)}if(window.history.pushState){for(m(),d=document.querySelectorAll("#grid > a"),e=0,t=d.length;t>e;e++)o=d[e],l(o);return l(document.getElementById("x")),addEventListener("popstate",m)}},!1)}).call(this);
//# sourceMappingURL=oxism.js.map