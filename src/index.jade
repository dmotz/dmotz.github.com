doctype
html.no-js(lang='en')
  head
    meta(charset='utf-8')
    meta(name='description', content='Dan Motzenbecker :: recent works')
    meta(name='viewport', content='width=device-width, initial-scale=1.0, user-scalable=no, minimal-ui')
    meta(name='author', content='Dan Motzenbecker')
    link(href='/css/oxism.css', rel='stylesheet', type='text/css')
    link(href='/images/favicon.png', rel='icon', type='image/png')
    link(href='/images/favicon-152.png', rel='apple-touch-icon-precomposed')
    link(href='http://fonts.googleapis.com/css?family=Playfair+Display:700', rel='stylesheet', type='text/css')
    title Dan Motzenbecker

  body(class=locals.target ? 'perma' : '')

    section#grid

      #info
        div
          .cover
            h1 Dan<br>Motzenbecker
            br
            h2 recent<br>works
          .image

      #meta
        div
          .cover
            div
              a.button#email email
              a.button(href='https://twitter.com/dcmotz') twitter
              a.button(href='https://github.com/dmotz') github

      each val, key in locals.map
        if val.isMajor
          a.major(id=key + '-link', href='/works/' + key)
            div
              .cover
                h2= val.display
              .image

        else
          a(id=key + '-link', href='/works/' + key)
            div
              .cover
                h2= val.display


    section#perma
      #perma-content
        a#x(href='/') &times;

        each val, key in locals.map
          div(id='content-' + key, class=locals.target === key ? 'active' : '')
            h1= val.display
            h2= val.line

            if val.images
              .images
                each image in val.images
                  img(src='/images/' + image)

            if val.links
              .buttons
                each url, linkTitle in val.links
                  a.button(href=url)= linkTitle

            .content!= val.md

            if val.tags
              .tools= val.tags.join(', ')


    script(src='/js/oxism.js')
    script.
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-30392798-1']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
