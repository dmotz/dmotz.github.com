(function(){var e,t,n,o,r,a,c,l,u,i,d,m,s,f,g,h,w,v,p,E,y,I,N;e=Math.abs,v=Math.sqrt,i="ontouchstart"in window,r=2,m=o=N=u=0,h=[],I={transform:"transform"},p=t=g=null,E=document.createElement("div"),w=function(){return window.localStorage?(o=localStorage.getItem("n")||0,document.documentElement.className="color"+o,function(){return localStorage.setItem("n",o)}):function(){}}(),n=function(e){return e[0].toUpperCase()+e.slice(1)},s=function(){var e;return e=location.hash.slice(1),""===e?(window.scrollTo(0,m),document.body.className=""):(m=window.pageYOffset,t&&(t.className=""),t=document.getElementById("content-"+e),g.scrollTop=0,t.className="active",document.body.className="perma")},a=function(){var e,t,n,o,r,a,c;for(e=r=0,a=p.length;a>r;e=++r)n=p[e],c=n.getBoundingClientRect(),t=c.left,o=c.top,h[e]=[t,o];return null},l=function(){var e;return e=null,function(){return clearTimeout(e),e=setTimeout(a,333)}}(),c=10,f=function(t){var n,o,r,a,l,i,d,m,s;for(a=m=0,s=p.length;s>m;a=++m)d=p[a],n=t.pageX-h[a][0]-N/2,o=t.pageY-h[a][1]-u/2,r=v(Math.pow(e(n),2)+Math.pow(e(o),2)),i=n/((r||1)/c),l=-o/((r||1)/c),d.children[0].style[I.transform]="rotateX("+l+"deg) rotateY("+i+"deg)";return null};for(d in I)y=I[d],I[d]=function(){var e,t,o,r,a;for(a=["Webkit","Moz","ms"],o=0,r=a.length;r>o;o++)if(t=a[o],(e=t+n(y))in E.style)return e;return y in E.style?y:null}();document.addEventListener("DOMContentLoaded",function(){var e;if(e=i?" touch":"",setTimeout(function(){return document.documentElement.className="color"+o+e},0),p=document.getElementById("grid").children,g=document.getElementById("perma"),N=u=parseInt(window.getComputedStyle(p[0]).width,10),document.getElementById("email").href=["m","a","i","l","t","o",":","d","a","n","@","o","x","i","s","m",".","c","o","m"].join(""),setInterval(function(){return++o>r&&(o=0),document.documentElement.className="color"+o+e,w()},8e3),!i){if(document.addEventListener("keydown",function(e){return 27===e.keyCode?location.hash="":void 0}),!I.transform)return;a(),window.addEventListener("resize",l),document.addEventListener("mousemove",f,!1)}return window.addEventListener("hashchange",s),s()},!1)}).call(this);
//# sourceMappingURL=oxism.js.map